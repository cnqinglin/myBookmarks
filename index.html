<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="'$',-UA-Compatible" content="ie=edge">
    <title>nav-demo</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <header>

    </header>
    <main >
        <div class="wrapper" id="mainxxxx">

        </div>
    </main>
    <footer>

    </footer>

    <script>
        keys={
            "0":{0:'q',1:'w',2:'e',3:'r',4:'t',5:'y',6:'u',7:'i',8:'o',9:'p',length:10},
            "1":{0:'a',1:'s',2:'d',3:'f',4:'g',5:'h',6:'j',7:'k',8:'l',length:9},
            "2":{0:'z',1:'x',2:'c',3:'v',4:'b',5:'n',6:'m',length:7},  //其实数组和对象本质是一样的
            "length":3
        }      //数组里面有数组
        hash = {
            "q":'qq.com',"w":'weibo.com',"e":'ele.me',"r":'renren.com',"y":'youtbe.com',"u":'uc.com',"i":'aiqiyi.com',"o":'opera.com',
            "p":undefined,"a":'acfun.tv',"s":'sohu.com',"z":'zhihu.com',"m":'www.mcdonalds.cn/'   //这个hash不是数组，不需要加length
        }
        //去除localStorage中的zzz对应的hash
        hashInlocalStorage = JSON.parse(localStorage.getItem('zzz')||'null')
        if(hashInlocalStorage){
            hash = hashInlocalStorage      //读取进度（优先读取之前编辑过的hash）
        }

        //遍历keys   生成kbd标签
        index = 0
        while( index < keys["length"]){          //index：0   1   2
        divxxxx = document.createElement("div")
        mainxxxx.appendChild(divxxxx)
        row = keys[index]              //第一个数组   第二个数组    第三个数组
        index2 = 0
        while(index2 < row["length"]){    //index2的取值：0-9 0-8 0-6
            kbdxxxx = document.createElement("kbd") 
            kbdxxxx.textContent = row[index2]      //kbd里面的文字内容对应每一行的数组
            buttonxxxx = document.createElement('button')
                //编辑hash  
            buttonxxxx.textContent = '编辑'
            buttonxxxx.id = row[index2]   //给button一个idname
            buttonxxxx.onclick = function(xzkjcnxlkcjlk){
                key = xzkjcnxlkcjlk['target']['id']        //监听点击事件q w e r  意思是点击的是key,找到里面的value对应的id 这里hash变成了元素（元素、数组都可以是hash，只要符合条件）  target指的是用户点的按钮
                x = prompt('给我一个网址')                  //提示用户给一个网址 把这个网址保存到x里面   qq.com等
                hash[key] = x                             //hash变更    把hash的key等于上一步的网址
                localStorage.setItem('zzz',JSON.stringify(hash))    //localStorage表示浏览器里面的桶，里面存的的是编辑后的hash,备份的作用，下次编辑时直接从刚好的上次开始编辑
                console.log(hash)
            }
            kbdxxxx.appendChild(buttonxxxx) 
            divxxxx.appendChild(kbdxxxx)        //生成的kbd必须马上放入div
            index2 = index2 + 1
        }    
        index = index + 1
    }

    document.onkeypress = function(xzkjcnxlkcjlk){
        key = xzkjcnxlkcjlk['key']       //可以看到用户安的什么键  不是字符串而是字母q w e 等
        website = hash[key]                 //得到键对应的网站
        //location.href = 'http://' + website           //把当前地址变成网站地址      location:全局变量   http协议的话前面加'http://'  地址指向website
        window.open('http://' + website, '_blank')    //把网站地址打开在新窗口中
    }

    </script>
</body>
</html>